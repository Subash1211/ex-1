<script>
  // Get modal elements
  const modal = document.getElementById('address-modal');
  const checkoutButton = document.getElementById('checkout-btn');
  const closeModal = document.getElementsByClassName('close')[0];
  const confirmAddressButton = document.getElementById('confirm-address');
  const cartItemsList = document.getElementById('cart-items');
  const cartTotal = document.getElementById('cart-total');

  // Initialize cart
  let cart = [];
  let total = 0;

  // Function to update cart display
  function updateCartDisplay() {
    cartItemsList.innerHTML = ''; // Clear current items
    cart.forEach(item => {
      const li = document.createElement('li');
      li.textContent = `${item.name} - ₹${item.price}`;
      cartItemsList.appendChild(li);
    });
    cartTotal.textContent = total.toFixed(2); // Update total
  }

  // Show the modal when Checkout button is clicked
  checkoutButton.addEventListener('click', function() {
    modal.style.display = "block";
  });

  // Close the modal when the user clicks on <span> (x)
  closeModal.onclick = function() {
    modal.style.display = "none";
  }

  // Close the modal when the user clicks anywhere outside of the modal
  window.onclick = function(event) {
    if (event.target == modal) {
      modal.style.display = "none";
    }
  }

  // Confirm address and show notification
  confirmAddressButton.addEventListener('click', function() {
    const address = document.getElementById('delivery-address').value;
    if (address) {
      alert('Thank you for your purchase! Your order will be delivered to: ' + address);
      modal.style.display = "none"; // Close modal
      // You can add additional functionality here, like processing the order
    } else {
      alert('Please enter a delivery address.');
    }
  });

  // Add to Cart functionality
  const addToCartButtons = document.querySelectorAll('.add-to-cart');

  addToCartButtons.forEach(button => {
    button.addEventListener('click', function() {
      const itemElement = button.parentElement;
      const itemName = itemElement.querySelector('h2').textContent;
      const itemPrice = parseFloat(itemElement.querySelector('.price').textContent.replace('₹', ''));

      // Add item to cart
      cart.push({ name: itemName, price: itemPrice });
      total += itemPrice; // Update total

      // Update cart display
      updateCartDisplay();
    });
  });
</script>
